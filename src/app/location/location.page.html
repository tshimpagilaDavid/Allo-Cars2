<ion-header>
  <ion-toolbar>
    <ion-title class="ion-text-center">Location</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/location-et-vente" text="back">
        retour
      </ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
 
  <ion-card shape="round">
    <ion-row >
      <ion-col size="5">
        <ion-item type="test">Votre ville</ion-item>
      </ion-col>
      <ion-col size="7">
        <ion-select value="brown" okText="Okay" cancelText="Annuler"
          (ionChange)="CityNameChange($event)" [value]="CityName">
          <ion-select-option *ngFor="let city of CityJson" value={{city.name}} class="center-text">{{city.name}}</ion-select-option>
        </ion-select>
      </ion-col>
    </ion-row>
    <ion-row >
      <ion-col size="5">
        <ion-item type="test">Votre marque</ion-item>
      </ion-col>
      <ion-col size="6">
        <ion-select value="brown" okText="Okay" cancelText="Annuler"
          (ionChange)="CarNameChange($event)" [value]="CarName">
          <ion-select-option *ngFor="let car of CarJson" value={{car.name}} class="center-text">{{car.name}}</ion-select-option>
        </ion-select>
      </ion-col>
    </ion-row>
    <br>
    <br>
    <div class="flex">
      <ion-button class="boot" shape="round" color="dark" (click)="openDatePicker()">vos jours de location
        <ion-icon name="calendar"></ion-icon>
      </ion-button> 
      <ion-item class="ion-item-sm" *ngIf="selectedStartDate && selectedEndDate">
        <ion-label class="label">Jours de location: {{ TotalDays }}</ion-label> 
      </ion-item>
    </div>
  </ion-card>
  <br>
  <ion-card [ngClass]="{'hidden': userEmail !== 'davidtshipangila@gmail.com'}">
    <!-- Partie supérieure pour les photos -->
    <ion-card-content>
      <div class="swiper-container" #slides>
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <img src="assets/hyundai_palisade_2020_4k-HD.jpg">
          </div>
          <div class="swiper-slide">
            <img src="assets/hyundai_palisade_2020_4k-HD.jpg">
          </div>
          <div class="swiper-slide">
            <img src="assets/hyundai_palisade_2020_4k-HD.jpg">
          </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </ion-card-content>
  
    <!-- Partie inférieure pour les informations -->
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="6">
            <h2>marque :</h2>
            <ion-input class="font" type="text" [(ngModel)]="marque"></ion-input>
            <p>modele :</p>
            <ion-input type="text" [(ngModel)]="modele"></ion-input>
          </ion-col>
          <ion-col size="6">
            <p class="ion-text-center">Prix :</p>
            <ion-item> 
              <ion-icon slot="start" size="large" src="assets/icon/dollar.svg"></ion-icon>
              <ion-input type="number" [(ngModel)]="prix"></ion-input>
            </ion-item>   
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6"> 
            <p class="ion-text-center">Boîte :</p>
            <ion-item>
              <ion-icon slot="start" size="large" src="assets/icon/moteur.svg"></ion-icon>
              <ion-input type="text" [(ngModel)]="boite"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <p class="ion-text-center">Carburant :</p>
            <ion-item>
              <ion-icon slot="start" size="large" src="assets/icon/boîte.svg"></ion-icon>
              <ion-input type="text" [(ngModel)]="carburant"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6">
            <p class="ion-text-center">kilométrage :</p>
            <ion-item>
              <ion-icon slot="start" size="large" src="assets/icon/kilométrage.svg"></ion-icon>
              <ion-input type="number" [(ngModel)]="kilometrage"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <p class="ion-text-center">année :</p>
            <ion-item>
              <ion-icon slot="start" size="large" name="calendar-outline"></ion-icon>
              <ion-input type="number" [(ngModel)]="annee"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-button (click)="ajouterVoiture()">Ajouter Voiture</ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card  *ngFor="let car of cars$ | async">
    <!-- Partie supérieure pour les photos -->
    <ion-card-content>
      <div class="swiper-container" #slides>
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <img src="assets/hyundai_palisade_2020_4k-HD.jpg">
          </div>
          <div class="swiper-slide">
            <img src="assets/hyundai_palisade_2020_4k-HD.jpg">
          </div>
          <div class="swiper-slide">
            <img src="assets/hyundai_palisade_2020_4k-HD.jpg">
          </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </ion-card-content>
  
    <!-- Partie inférieure pour les informations -->
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size="6">
            <h2 class="font">{{ car.marque }}</h2>
            <p>{{ car.modele }}</p>
          </ion-col>
          <ion-col size="6">
            <p class="ion-text-center">Prix :</p>
            <ion-item> 
              <ion-icon slot="start" size="large" src="assets/icon/dollar.svg"></ion-icon>
              <ion-input type="number" value="{{ car.prix }}"></ion-input>
            </ion-item>   
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6"> 
            <p class="ion-text-center">Boîte :</p>
            <ion-item>
              <ion-input type="text" value="{{ car.boite }}"></ion-input>
              <ion-icon slot="start" size="large" src="assets/icon/moteur.svg"></ion-icon>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <p class="ion-text-center">Carburant :</p>
            <ion-item>
              <ion-input type="text" value="{{ car.carburant }}"></ion-input>
              <ion-icon slot="start" size="large" src="assets/icon/boîte.svg"></ion-icon>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6">
            <p class="ion-text-center">kilométrage :</p>
            <ion-item>
              <ion-input type="number" value="{{ car.kilometrage }}"></ion-input>
              <ion-icon slot="start" size="large" src="assets/icon/kilométrage.svg"></ion-icon>
            </ion-item>
          </ion-col>
          <ion-col size="6">
            <p class="ion-text-center">année :</p>
            <ion-item>
              <ion-input type="number" value="{{ car.annee }}"></ion-input>
              <ion-icon slot="start" size="large" name="calendar-outline"></ion-icon>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  
</ion-content>
